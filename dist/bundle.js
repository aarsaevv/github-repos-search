(()=>{"use strict";function e(e,t){if(e.preventDefault(),!(t=t.trim()))throw"Введите запрос в поле поиска";if(t.length<=2)throw"Введенных символов недостаточно";!async function(e){(function(){let e=document.querySelector(".result"),t=document.createElement("li");t.classList.add("result__loading"),t.textContent="Загрузка...",e.append(t)})(),await fetch(`https://api.github.com/search/repositories?q=${e}&page=1&per_page=10`).then((e=>e.json())).then((e=>{document.querySelector(".result__loading").innerHTML="",0==e.total_count&&function(){let e=document.querySelector(".result"),t=document.createElement("li");t.classList.add("result__unsuccess"),t.textContent="Ничего не найдено",e.append(t)}(),function(e){let t=document.querySelector(".result");for(let n of e){let e=document.createElement("li");e.classList.add("result__item");let r=document.createElement("a"),o=document.createElement("div"),c=document.createElement("div"),s=document.createElement("div");r.classList.add("item__link"),o.classList.add("item__description"),c.classList.add("item__owner"),s.classList.add("item__stars"),r.setAttribute("href",n.html_url),r.setAttribute("target","_blank"),r.textContent=n.name,o.textContent=n.description?"Описание: "+n.description:"No description.",c.textContent="Автор: "+n.owner.login,s.textContent="☆ "+(n.stargazers_count>1e3?(n.stargazers_count/1e3).toFixed(1)+"k":n.stargazers_count),e.append(r),e.append(o),e.append(c),e.append(s),t.append(e)}}(e.items)}))}(t)}function t(){for(let e of document.querySelectorAll(".result"))e.textContent=""}let n=document.querySelector(".search__input"),r=document.querySelector(".search__button");!function(n){n.addEventListener("keydown",(n=>{let r=n.target.value;"Enter"===n.key&&(t(),e(n,r))}))}(n),function(n){n.addEventListener("click",(n=>{let r=document.querySelector(".search__input").value;t(),e(n,r)}))}(r)})();