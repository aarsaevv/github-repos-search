(()=>{"use strict";function e(e,n){e.preventDefault(),(n=n.trim())?n.length<=3?t("Введенных символов недостаточно. Введите более 3 символов."):(function(){for(let e of document.querySelectorAll(".result"))e.textContent=""}(),async function(e){(function(){let e=document.querySelector(".result"),t=document.createElement("li");t.classList.add("result__loading"),t.textContent="Загрузка...",e.append(t)})(),await fetch(`https://api.github.com/search/repositories?q=${e}&page=1&per_page=10`).then((e=>e.json())).then((e=>{document.querySelector(".result__loading").innerHTML="",0==e.total_count&&function(){let e=document.querySelector(".result"),t=document.createElement("li");t.classList.add("result__unsuccess"),t.textContent="Ничего не найдено",e.append(t)}(),function(e){let t=document.querySelector(".result");for(let n of e){let e=document.createElement("li");e.classList.add("result__item");let o=document.createElement("a"),c=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div");o.classList.add("item__link"),c.classList.add("item__description"),r.classList.add("item__owner"),i.classList.add("item__stars"),o.setAttribute("href",n.html_url),o.setAttribute("target","_blank"),o.textContent=n.name,c.textContent=n.description?"Описание: "+n.description:"No description.",r.textContent="Автор: "+n.owner.login,i.textContent="☆ "+(n.stargazers_count>1e3?(n.stargazers_count/1e3).toFixed(1)+"k":n.stargazers_count),e.append(o),e.append(c),e.append(r),e.append(i),t.append(e)}}(e.items)}))}(n)):t("Введите запрос в поле поиска.")}function t(e){let t=document.querySelector(".notifications");if(t.children.length<=5){let n=document.createElement("div");n.classList.add("notifications__item"),n.textContent=e,t.append(n),setTimeout((()=>{!function(e){e.remove()}(n)}),3e3)}}let n=document.querySelector(".search__input"),o=document.querySelector(".search__button");!function(t){t.addEventListener("keydown",(t=>{let n=t.target.value;"Enter"===t.key&&e(t,n)}))}(n),function(t){t.addEventListener("click",(t=>{e(t,document.querySelector(".search__input").value)}))}(o)})();